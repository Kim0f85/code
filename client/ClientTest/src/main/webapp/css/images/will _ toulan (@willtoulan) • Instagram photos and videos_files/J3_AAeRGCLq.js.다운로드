;/*FB_PKG_DELIM*/

__d("PolarisPostCommentsPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"before"},{defaultValue:null,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"last"},{defaultValue:null,kind:"LocalArgument",name:"media_id"},{defaultValue:"popular",kind:"LocalArgument",name:"sort_order"}],b={kind:"Variable",name:"sort_order",variableName:"sort_order"},c=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Literal",name:"data",value:{}},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"media_id",variableName:"media_id"},b],d={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},e=[{alias:null,args:null,concreteType:"XDTCommentGiphyMediaFixedHeightImages",kind:"LinkedField",name:"fixed_height",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisPostCommentsPaginationQuery",selections:[{args:[b],kind:"FragmentSpread",name:"PolarisPostAllCommentsFragment_items_connection"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisPostCommentsPaginationQuery",selections:[{alias:null,args:c,concreteType:"XDTGetCommentsResponseConnection",kind:"LinkedField",name:"xdt_api__v1__media__media_id__comments__connection",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGetCommentsResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_covered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"child_comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parent_comment_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked_comment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"XDTCommentGiphyMediaInfo",kind:"LinkedField",name:"giphy_media_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentGiphyMediaImages",kind:"LinkedField",name:"first_party_cdn_proxied_images",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"XDTCommentGiphyMediaImages",kind:"LinkedField",name:"images",plural:!1,selections:e,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comment_like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:c,filters:["data","media_id","sort_order"],handle:"connection",key:"PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",kind:"LinkedHandle",name:"xdt_api__v1__media__media_id__comments__connection"}]},params:{id:"6974885689225067",metadata:{},name:"PolarisPostCommentsPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisPostAllCommentsFragment_items_connection.graphql",["PolarisPostCommentsPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["xdt_api__v1__media__media_id__comments__connection"];return{argumentDefinitions:[{kind:"RootArgument",name:"after"},{kind:"RootArgument",name:"before"},{kind:"RootArgument",name:"first"},{kind:"RootArgument",name:"last"},{kind:"RootArgument",name:"media_id"},{defaultValue:"popular",kind:"LocalArgument",name:"sort_order"}],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"bidirectional",path:a}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:{count:"last",cursor:"before"},path:a},fragmentPathInResult:[],operation:b("PolarisPostCommentsPaginationQuery.graphql")}},name:"PolarisPostAllCommentsFragment_items_connection",selections:[{alias:"xdt_api__v1__media__media_id__comments__connection",args:[{kind:"Literal",name:"data",value:{}},{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Variable",name:"sort_order",variableName:"sort_order"}],concreteType:"XDTGetCommentsResponseConnection",kind:"LinkedField",name:"__PolarisPostComments__xdt_api__v1__media__media_id__comments__connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGetCommentsResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_covered",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostComment_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostMobileComment_comment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null}}();e.exports=a}),null);
__d("PolarisPostAllComments_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostAllComments_media",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"pk"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},action:"THROW",path:"code"},{alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"owner.pk"}],storageKey:null},action:"THROW",path:"owner"}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisPostCommentsContainerQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"after"},b={defaultValue:null,kind:"LocalArgument",name:"before"},c={defaultValue:null,kind:"LocalArgument",name:"first"},d={defaultValue:null,kind:"LocalArgument",name:"last"},e={defaultValue:null,kind:"LocalArgument",name:"media_id"},f=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Literal",name:"data",value:{}},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Literal",name:"sort_order",value:"popular"}],g={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},h=[{alias:null,args:null,concreteType:"XDTCommentGiphyMediaFixedHeightImages",kind:"LinkedField",name:"fixed_height",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,b,c,d,e],kind:"Fragment",metadata:null,name:"PolarisPostCommentsContainerQuery",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostAllCommentsFragment_items_connection"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,b,e,c,d],kind:"Operation",name:"PolarisPostCommentsContainerQuery",selections:[{alias:null,args:f,concreteType:"XDTGetCommentsResponseConnection",kind:"LinkedField",name:"xdt_api__v1__media__media_id__comments__connection",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGetCommentsResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[g,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_covered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"child_comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parent_comment_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked_comment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"XDTCommentGiphyMediaInfo",kind:"LinkedField",name:"giphy_media_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentGiphyMediaImages",kind:"LinkedField",name:"first_party_cdn_proxied_images",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"XDTCommentGiphyMediaImages",kind:"LinkedField",name:"images",plural:!1,selections:h,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comment_like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:f,filters:["data","media_id","sort_order"],handle:"connection",key:"PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",kind:"LinkedHandle",name:"xdt_api__v1__media__media_id__comments__connection"}]},params:{id:"7336110846449933",metadata:{},name:"PolarisPostCommentsContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("PolarisPostCommentsContainer_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCommentsContainer_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostAllComments_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostCommentInputRevampedMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"connections"},b={defaultValue:null,kind:"LocalArgument",name:"media_id"},c={defaultValue:null,kind:"LocalArgument",name:"request_data"},d=[{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Variable",name:"request_data",variableName:"request_data"}],e={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null};return{fragment:{argumentDefinitions:[a,b,c],kind:"Fragment",metadata:null,name:"PolarisPostCommentInputRevampedMutation",selections:[{alias:null,args:d,concreteType:"XDTAddCommentWebResponse",kind:"LinkedField",name:"xdt_web__comments__media_id__add_queryable",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"RequiredField",field:e,action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.created_at"},{kind:"RequiredField",field:f,action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.pk"},{kind:"RequiredField",field:g,action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.text"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[f,h,i,j,k,l],storageKey:null},action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.user"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,b],kind:"Operation",name:"PolarisPostCommentInputRevampedMutation",selections:[{alias:null,args:d,concreteType:"XDTAddCommentWebResponse",kind:"LinkedField",name:"xdt_web__comments__media_id__add_queryable",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[e,f,g,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[f,h,i,j,k,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,filters:null,handle:"prependNode",key:"",kind:"LinkedHandle",name:"node",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"},{kind:"Literal",name:"edgeTypeName",value:"XDTGetCommentsResponseEdge"}]}],storageKey:null}]},params:{id:"6524763637625554",metadata:{},name:"PolarisPostCommentInputRevampedMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("IGDSInfiniteScrollTrigger.react",["react","useAfterPaint","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useRef,k=b.unstable_useMemoCache;function a(a){var b=k(6),d=a.children,e=a["data-testid"],f=a.hasMore,g=a.isLoading,h=a.onLoadMore;a=a.rootMargin;a=a===void 0?0:a;var l=j(!1),m=function(){f&&!g&&l.current&&h()};c("useAfterPaint")(m);m=function(){var a=l.current;l.current=!0;!a&&f&&!g&&h()};var n=function(){l.current=!1};n=c("useVisibilityObserver")({onHidden:n,onVisible:m,options:{rootMargin:a}});b[0]!==f||b[1]!==g||b[2]!==e||b[3]!==n||b[4]!==d?(m=f||g?i.jsx("div",{"data-testid":void 0,ref:n,children:d}):null,b[0]=f,b[1]=g,b[2]=e,b[3]=n,b[4]=d,b[5]=m):m=b[5];return m}g["default"]=a}),98);
__d("PolarisInfiniteScroll.react",["IGDSInfiniteScrollTrigger.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(5),d=a.children,e=a.handleLoadNext,f=a.hasNext;a=a.isLoadingNext;var g;b[0]!==f||b[1]!==a||b[2]!==e||b[3]!==d?(g=j.jsx(c("IGDSInfiniteScrollTrigger.react"),{"data-testid":void 0,hasMore:f,isLoading:a,onLoadMore:e,children:d}),b[0]=f,b[1]=a,b[2]=e,b[3]=d,b[4]=g):g=b[4];return g}g["default"]=a}),98);
__d("PolarisPostAllComments.react",["BaseButton.react","CometPlaceholder.react","CometRelay","IGDSBox.react","IGDSDivider.react","IGDSSpinner.react","IGDSText.react","PolarisCommentsSectionText.react","PolarisCommentsSortContext.react","PolarisCommentsStrings","PolarisGenericStrings","PolarisInfiniteScroll.react","PolarisLoggerUtils","PolarisMobileSponsoredPersistentCTA.react","PolarisNoCommentsPlaceholder.react","PolarisPostAllCommentsFragment_items_connection.graphql","PolarisPostAllComments_media.graphql","PolarisPostUtils","PolarisSortCommentsUtil","PolarisUA","cr:4275","react","requireDeferred","stylex","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;e.useCallback;var m=e.useContext,n=e.useEffect;e.useMemo;var o=e.useState,p=e.unstable_useMemoCache,q=c("requireDeferred")("PolarisCommentCover.react").__setRef("PolarisPostAllComments.react"),r=80,s={commentsCover:{marginStart:"x17adc0v",marginLeft:null,marginRight:null,$$css:!0},commentsDivider:{marginEnd:"x19f6ikt",marginLeft:null,marginRight:null,marginStart:"x169t7cy",$$css:!0},commentsDividerMobile:{marginEnd:"xktsk01",marginLeft:null,marginRight:null,marginStart:"x1d52u69",$$css:!0},commentsDividerWithImmersiveViewer:{marginEnd:"xcr5guo",marginLeft:null,marginRight:null,marginStart:"xd8oflk",$$css:!0},noCommentsContainer:{flexGrow:"x1iyjqo2",$$css:!0},persistentCTAPadding:{paddingBottom:"xo5ses6",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}};function a(a){var e=p(43),f=a.adInfo,g=a.enablePersistentCta,k=a.media$key,u=a.paginationQuery,v=a.postCaptionComponent,w=a.shouldUseInfiniteScroll;a=a.xStyle;u=d("CometRelay").usePaginationFragment(h!==void 0?h:h=b("PolarisPostAllCommentsFragment_items_connection.graphql"),u);var x=u.data,y=u.hasNext,z=u.isLoadingNext,A=u.loadNext,B=u.refetch;u=x.xdt_api__v1__media__media_id__comments__connection;x=u.edges;u=o(!1);var C=u[0],D=u[1];u=x.filter(function(a){a=a.node;return a.is_covered!==!0});var E=x.filter(function(a){a=a.node;return a.is_covered===!0});u={comments:u,coveredComments:E};E=u;u=E.comments;E=E.coveredComments;k=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisPostAllComments_media.graphql"),k);f=(f=f==null?void 0:f.tracking_token)!=null?f:"";var F=k.code,G=k.comments_disabled,H=k.owner,I=k.pk,J=H.pk;k=m(d("PolarisCommentsSortContext.react").PolarisCommentsSortContext);var K=k.commentsSortOrder;e[0]!==B||e[1]!==I?(H=function(a){B({media_id:I,sort_order:String(a)})},e[0]=B,e[1]=I,e[2]=H):H=e[2];var L=H;e[3]!==A?(k=function(){A(10)},e[3]=A,e[4]=k):k=e[4];H=k;var M;e[5]!==L||e[6]!==K?(k=function(){L(K)},M=[K,L],e[5]=L,e[6]=K,e[7]=k,e[8]=M):(k=e[7],M=e[8]);n(k,M);e[9]!==H||e[10]!==y||e[11]!==z?(k={handleLoadNext:H,hasNext:y,isLoadingNext:z},e[9]=H,e[10]=y,e[11]=z,e[12]=k):k=e[12];M=k;H=m(d("PolarisCommentsSortContext.react").PolarisCommentsSortContext);z=H.isImmersiveViewer;k=x!=null&&x.length===0;e[13]!==I||e[14]!==J?(H=d("PolarisLoggerUtils").getFormattedMediaID(I,J),e[13]=I,e[14]=J,e[15]=H):H=e[15];H=H;var N=K===d("PolarisSortCommentsUtil").CommentsOptionValues.META_VERIFIED&&((x==null?void 0:x.length)===0||x.some(function(a){return((a=a.node.user)==null?void 0:a.is_verified)===!0})===!1),O=K===d("PolarisSortCommentsUtil").CommentsOptionValues.META_VERIFIED?x==null?void 0:x.findIndex(function(a){return((a=a.node.user)==null?void 0:a.is_verified)===!1}):-1;x=c("useDeferredModuleOnReady")(q);var P=(j||(j=c("stylex")))(d("PolarisUA").isMobile()&&s.commentsDividerMobile,d("PolarisUA").isDesktop()&&z===!0&&s.commentsDividerWithImmersiveViewer,d("PolarisUA").isDesktop()&&z!==!0&&s.commentsDivider),Q;e[16]===Symbol["for"]("react.memo_cache_sentinel")?(Q=l.jsx(c("IGDSDivider.react"),{}),e[16]=Q):Q=e[16];e[17]!==P?(Q=l.jsx("div",{className:P,children:Q}),e[17]=P,e[18]=Q):Q=e[18];var R=Q;P=g===!0&&s.persistentCTAPadding;e[19]!==a||e[20]!==P?(Q=(j||(j=c("stylex")))(s.root,a,P),e[19]=a,e[20]=P,e[21]=Q):Q=e[21];a=v!=null&&v;P=k&&G!==!0&&l.jsx("div",{className:"x1iyjqo2",children:l.jsx(c("PolarisNoCommentsPlaceholder.react"),{})});e[22]!==N||e[23]!==z||e[24]!==R?(v=N&&l.jsx(c("PolarisCommentsSectionText.react"),{commentsDivider:R,marginStart:z===!0?0:10,text:d("PolarisSortCommentsUtil").NO_META_VERIFIED_COMMENTS}),e[22]=N,e[23]=z,e[24]=R,e[25]=v):v=e[25];k=u==null?void 0:u.map(function(a,d){a=a.node;return l.jsxs(c("IGDSBox.react"),{children:[l.jsx(b("cr:4275"),{mediaCode:F,mediaId:I,mediaOwnerId:J,queryReference:a}),d===O-1&&l.jsx(c("IGDSBox.react"),{marginBottom:1,marginTop:1,children:R})]},a.pk)});G=!y&&!C&&(E==null?void 0:E.length)>0&&x!=null&&l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(x,{onClick:function(){return D(!0)},postId:I,postOwnerId:J,xstyle:s.commentsCover})});N=C&&l.jsxs(l.Fragment,{children:[l.jsx(c("PolarisCommentsSectionText.react"),{commentsDivider:R,marginStart:z===!0?0:10,text:d("PolarisCommentsStrings").COVERED_COMMENTS}),E==null?void 0:E.map(function(a){a=a.node;return l.jsx(c("IGDSBox.react"),{children:l.jsx(b("cr:4275"),{mediaCode:F,mediaId:I,mediaOwnerId:J,queryReference:a})},a.pk)})]});e[26]!==g||e[27]!==H||e[28]!==f?(u=g===!0?l.jsx(c("PolarisMobileSponsoredPersistentCTA.react"),{bottomOffset:r,ctaAdditionalAnimation:d("PolarisPostUtils").PostFooterCTAAnimationStyle.SLIDE_UP,mpk:H,trackingToken:f}):null,e[26]=g,e[27]=H,e[28]=f,e[29]=u):u=e[29];e[30]!==w||e[31]!==M?(y=w?l.jsx(c("PolarisInfiniteScroll.react"),babelHelpers["extends"]({},M,{children:l.jsx(c("IGDSBox.react"),{alignItems:"center","data-testid":void 0,height:"42px",marginBottom:3,marginTop:3,children:l.jsx(c("IGDSSpinner.react"),{})})})):l.jsx(t,babelHelpers["extends"]({},M)),e[30]=w,e[31]=M,e[32]=y):y=e[32];e[33]!==Q||e[34]!==a||e[35]!==P||e[36]!==v||e[37]!==k||e[38]!==G||e[39]!==N||e[40]!==u||e[41]!==y?(x=l.jsxs("div",{className:Q,"data-testid":void 0,children:[a,P,v,k,G,N,u,y]}),e[33]=Q,e[34]=a,e[35]=P,e[36]=v,e[37]=k,e[38]=G,e[39]=N,e[40]=u,e[41]=y,e[42]=x):x=e[42];return x}function t(a){var b=p(4),e=a.handleLoadNext,f=a.hasNext;a=a.isLoadingNext;if(a){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("IGDSBox.react"),{alignItems:"center","data-testid":void 0,height:"42px",marginBottom:3,marginTop:3,children:l.jsx(c("IGDSSpinner.react"),{})}),b[0]=a):a=b[0];return a}if(f){b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("IGDSText.react"),{color:"secondaryText",children:d("PolarisGenericStrings").VIEW_MORE_COMMENTS_TEXT}),b[1]=a):a=b[1];b[2]!==e?(f=l.jsx(c("IGDSBox.react"),{alignItems:"start",height:"42px",marginBottom:4,marginTop:4,children:l.jsx(c("BaseButton.react"),{onClick:e,children:a})}),b[2]=e,b[3]=f):f=b[3];return f}return null}g["default"]=a}),98);
__d("PolarisPostCommentsContainer.react",["CometRelay","PolarisPostAllComments.react","PolarisPostCommentsContainerQuery.graphql","PolarisPostCommentsContainer_media.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j,m=h!==void 0?h:h=b("PolarisPostCommentsContainerQuery.graphql");function a(a){var e=k(7),f=a.adInfo,g=a.commentsQuery,h=a.enablePersistentCta,j=a.media$key,n=a.postCaptionComponent;a=a.xStyle;n=n===void 0?null:n;g=d("CometRelay").usePreloadedQuery(m,g);j=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisPostCommentsContainer_media.graphql"),j);var o;e[0]!==f||e[1]!==h||e[2]!==j||e[3]!==g||e[4]!==n||e[5]!==a?(o=l.jsx(c("PolarisPostAllComments.react"),{adInfo:f,enablePersistentCta:h,media$key:j,paginationQuery:g,postCaptionComponent:n,shouldUseInfiniteScroll:!0,xStyle:a}),e[0]=f,e[1]=h,e[2]=j,e[3]=g,e[4]=n,e[5]=a,e[6]=o):o=e[6];return o}g["default"]=a}),98);
__d("PolarisPostCommentInputRevamped.react",["CometRelay","PolarisCommentsSortContext.react","PolarisDsaQEHelpers","PolarisPendingCommentState","PolarisPostCommentInput.react","PolarisPostCommentInputRevampedMutation.graphql","PolarisSortCommentsUtil","Promise","QPLUserFlow","polarisGetXDTCommentDict","qpl","react","usePolarisAnalyticsContext","usePolarisCommentInputRevamped","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;var l=e.useContext,m=e.unstable_useMemoCache,n=h!==void 0?h:h=b("PolarisPostCommentInputRevampedMutation.graphql");f=k.forwardRef(a);function a(a,e){var f=m(15),g=a.adInfo,h=a.isLoggedIn,j=a.isRevampedMobileInput,o=a.isSidecar,p=a.isVideo,q=a.ownerID,r=a.postID,s=a.postOwnerUsername,t=a.replyingToBarWithinInput;a=a.viewerProfilePicture;j=j===void 0?!1:j;t=t===void 0?!1:t;var u=c("usePolarisAnalyticsContext")(),v;f[0]!==r?(v=function(a){return(a=a.pendingComments[r])!=null?a:d("PolarisPendingCommentState").EMPTY_PENDING_COMMENT},f[0]=r,f[1]=v):v=f[1];var w=c("usePolarisSelector")(v);v=d("CometRelay").useMutation(n);var x=v[0];v=l(d("PolarisCommentsSortContext.react").PolarisCommentsSortContext);var y=v.commentsSortOrder;v=c("usePolarisCommentInputRevamped")(r,o,p);var z=v.onCommit,A=v.onComplete,B=v.onError;o=function a(e,f,g,h){z();var j=d("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",{data:{},media_id:r,sort_order:y});g=d("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__parent_comment_id__child_comments__connection",{media_id:r,parent_comment_id:(g=g)!=null?g:f});x({onCompleted:function(a){A(a.xdt_web__comments__media_id__add_queryable.node.text,a.xdt_web__comments__media_id__add_queryable.node.pk,q,h,w.repliedToCommentAuthorId,w.repliedToCommentParentId),c("QPLUserFlow").endSuccess(c("qpl")._(379194585,"1014"))},onError:function(){B(a,e,h,w.repliedToCommentAuthorId,w.repliedToCommentParentId),c("QPLUserFlow").endFailure(c("qpl")._(379194585,"1014"),"mutation_errored")},updater:function(a){if(d("PolarisDsaQEHelpers").hasCommentsSortEnabled(!0))for(var b=d("PolarisSortCommentsUtil").commentsOptions,e=Array.isArray(b),g=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;if(h!==y){h=d("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",{data:{},media_id:r,sort_order:h});(h=a.get(h))==null?void 0:h.invalidateRecord()}}if(f==null)return;h=c("polarisGetXDTCommentDict")(a,f);e=(g=h==null?void 0:h.getValue("child_comment_count"))!=null?g:0;h==null?void 0:h.setValue(Number(e)+1,"child_comment_count")},variables:{connections:[f==null?j:g],media_id:r,request_data:{comment_text:e,replied_to_comment_id:f}}});return(i||(i=b("Promise"))).resolve()};v=o;a=(o=a)!=null?o:"";f[2]!==g||f[3]!==u||f[4]!==r||f[5]!==h||f[6]!==j||f[7]!==p||f[8]!==v||f[9]!==q||f[10]!==s||f[11]!==e||f[12]!==t||f[13]!==a?(o=k.jsx(c("PolarisPostCommentInput.react"),{adInfo:g,analyticsContext:u,canViewerProvideFeedback:!0,forceTextareaAutosize:!1,hasPostButton:!0,hasRichCommentInput:!0,id:r,inModal:!1,isLoggedIn:h,isRevampedMobileInput:j,isRevampVersion:!0,isVideo:p,onCommentSubmitOverride:v,ownerId:q,postOwnerUsername:s,ref:e,replyingToBarWithinInput:t,viewerProfilePicture:a}),f[2]=g,f[3]=u,f[4]=r,f[5]=h,f[6]=j,f[7]=p,f[8]=v,f[9]=q,f[10]=s,f[11]=e,f[12]=t,f[13]=a,f[14]=o):o=f[14];return o}e=f;g["default"]=e}),98);